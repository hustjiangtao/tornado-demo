{% extends base.html %}

{% block title %}Edit{% end %}

{% block content %}
{% set bookmarks = data.get('bookmarks') %}
<div class="bsp-detail">
    <!-- list -->
    <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="switch_to_add_bookmark()">
        Add One
    </button>
    <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp" id="bookmark-detail">
        <thead>
        <tr>
            <th class="mdl-data-table__cell--non-numeric">Name</th>
            <th>Type</th>
            <th>Info</th>
            <th>Time</th>
        </tr>
        </thead>
        <tbody>
        {% for idx, bookmark in enumerate(bookmarks) %}
        <tr data-id="{{ bookmark.get('id') }}">
            <td><input type="text" name="name" id="name" value="{{ bookmark.get('name') }}"></td>
            <td><input type="text" name="url" id="url" value="{{ bookmark.get('url') }}"></td>
            <td><input type="text" name="type" id="type" value="{{ bookmark.get('type') }}"></td>
            <td><input type="text" name="info" id="info" value="{{ bookmark.get('info') }}"></td>
            <td>{{ bookmark.get('create_time').date() }}</td>
            <td>
                <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" onclick="update_bookmark(this)">
                    Update
                </a>
                <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" onclick="delete_bookmark(this)">
                    Delete
                </a>
            </td>
        </tr>
        {% end %}
        </tbody>
    </table>
    <!-- add -->
    <div class="demo-card-square mdl-card mdl-shadow--2dp" id="bookmark-add" style="display: none">
        <div class="mdl-card__title mdl-card--expand">
            <h2 class="mdl-card__title-text">Add</h2>
        </div>
        <div class="mdl-card__supporting-text">
            <form>
                Name:<br>
                <input type="text" name="name" id="name">
                <br>
                URL:<br>
                <input type="text" name="url" id="url">
                <br>
                Type:<br>
                <input type="text" name="type" id="type">
                <br>
                Info:<br>
                <input type="text" name="info" id="info">
            </form>
        </div>
        <div class="mdl-card__actions mdl-card--border">
            <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" onclick="add_bookmark()">
                Add
            </a>
            <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" onclick="cancel_add_bookmark()">
                Cancel
            </a>
        </div>
    </div>
</div>
{% end %}

{% block js %}
<script src="{{ static_url('js/bsp/main.js') }}"></script>
{% end %}